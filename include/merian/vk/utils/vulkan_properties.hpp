// This file was autogenerated for Vulkan v1.4.342.
// Do not edit manually!

#pragma once

#include "vulkan/vulkan.hpp"

#include <memory>
#include <unordered_set>
#include <vector>

namespace merian {

// Forward declaration
class Instance;
using InstanceHandle = std::shared_ptr<Instance>;

std::vector<vk::StructureType> get_api_version_property_types(uint32_t vk_api_version);

/**
 * @brief C++20 concept for validating Vulkan property structure types.
 * @tparam T The type to validate.
 */
template <typename T>
concept VulkanPropertyStruct = (
    std::same_as<T, vk::PhysicalDeviceProperties2> ||
    std::same_as<T, vk::PhysicalDeviceAccelerationStructurePropertiesKHR> ||
    std::same_as<T, vk::PhysicalDeviceBlendOperationAdvancedPropertiesEXT> ||
    std::same_as<T, vk::PhysicalDeviceClusterAccelerationStructurePropertiesNV> ||
    std::same_as<T, vk::PhysicalDeviceClusterCullingShaderPropertiesHUAWEI> ||
    std::same_as<T, vk::PhysicalDeviceComputeShaderDerivativesPropertiesKHR> ||
    std::same_as<T, vk::PhysicalDeviceConservativeRasterizationPropertiesEXT> ||
    std::same_as<T, vk::PhysicalDeviceCooperativeMatrix2PropertiesNV> ||
    std::same_as<T, vk::PhysicalDeviceCooperativeMatrixPropertiesKHR> ||
    std::same_as<T, vk::PhysicalDeviceCooperativeMatrixPropertiesNV> ||
    std::same_as<T, vk::PhysicalDeviceCooperativeVectorPropertiesNV> ||
    std::same_as<T, vk::PhysicalDeviceCopyMemoryIndirectPropertiesKHR> ||
    std::same_as<T, vk::PhysicalDeviceCustomBorderColorPropertiesEXT> ||
    std::same_as<T, vk::PhysicalDeviceDepthStencilResolveProperties> ||
    std::same_as<T, vk::PhysicalDeviceDescriptorBufferDensityMapPropertiesEXT> ||
    std::same_as<T, vk::PhysicalDeviceDescriptorBufferPropertiesEXT> ||
    std::same_as<T, vk::PhysicalDeviceDescriptorBufferTensorPropertiesARM> ||
    std::same_as<T, vk::PhysicalDeviceDescriptorHeapPropertiesEXT> ||
    std::same_as<T, vk::PhysicalDeviceDescriptorHeapTensorPropertiesARM> ||
    std::same_as<T, vk::PhysicalDeviceDescriptorIndexingProperties> ||
    std::same_as<T, vk::PhysicalDeviceDeviceGeneratedCommandsPropertiesEXT> ||
    std::same_as<T, vk::PhysicalDeviceDeviceGeneratedCommandsPropertiesNV> ||
    std::same_as<T, vk::PhysicalDeviceDiscardRectanglePropertiesEXT> ||
    std::same_as<T, vk::PhysicalDeviceDriverProperties> ||
    std::same_as<T, vk::PhysicalDeviceDrmPropertiesEXT> ||
    std::same_as<T, vk::PhysicalDeviceExtendedDynamicState3PropertiesEXT> ||
    std::same_as<T, vk::PhysicalDeviceExtendedSparseAddressSpacePropertiesNV> ||
    std::same_as<T, vk::PhysicalDeviceExternalComputeQueuePropertiesNV> ||
    std::same_as<T, vk::PhysicalDeviceExternalMemoryHostPropertiesEXT> ||
    std::same_as<T, vk::PhysicalDeviceFloatControlsProperties> ||
    std::same_as<T, vk::PhysicalDeviceFragmentDensityMap2PropertiesEXT> ||
    std::same_as<T, vk::PhysicalDeviceFragmentDensityMapLayeredPropertiesVALVE> ||
    std::same_as<T, vk::PhysicalDeviceFragmentDensityMapOffsetPropertiesEXT> ||
    std::same_as<T, vk::PhysicalDeviceFragmentDensityMapPropertiesEXT> ||
    std::same_as<T, vk::PhysicalDeviceFragmentShaderBarycentricPropertiesKHR> ||
    std::same_as<T, vk::PhysicalDeviceFragmentShadingRateEnumsPropertiesNV> ||
    std::same_as<T, vk::PhysicalDeviceFragmentShadingRatePropertiesKHR> ||
    std::same_as<T, vk::PhysicalDeviceGraphicsPipelineLibraryPropertiesEXT> ||
    std::same_as<T, vk::PhysicalDeviceHostImageCopyProperties> ||
    std::same_as<T, vk::PhysicalDeviceIDProperties> ||
    std::same_as<T, vk::PhysicalDeviceImageAlignmentControlPropertiesMESA> ||
    std::same_as<T, vk::PhysicalDeviceImageProcessing2PropertiesQCOM> ||
    std::same_as<T, vk::PhysicalDeviceImageProcessingPropertiesQCOM> ||
    std::same_as<T, vk::PhysicalDeviceInlineUniformBlockProperties> ||
    std::same_as<T, vk::PhysicalDeviceLayeredApiPropertiesListKHR> ||
    std::same_as<T, vk::PhysicalDeviceLayeredDriverPropertiesMSFT> ||
    std::same_as<T, vk::PhysicalDeviceLegacyVertexAttributesPropertiesEXT> ||
    std::same_as<T, vk::PhysicalDeviceLineRasterizationProperties> ||
    std::same_as<T, vk::PhysicalDeviceMaintenance10PropertiesKHR> ||
    std::same_as<T, vk::PhysicalDeviceMaintenance3Properties> ||
    std::same_as<T, vk::PhysicalDeviceMaintenance4Properties> ||
    std::same_as<T, vk::PhysicalDeviceMaintenance5Properties> ||
    std::same_as<T, vk::PhysicalDeviceMaintenance6Properties> ||
    std::same_as<T, vk::PhysicalDeviceMaintenance7PropertiesKHR> ||
    std::same_as<T, vk::PhysicalDeviceMaintenance9PropertiesKHR> ||
    std::same_as<T, vk::PhysicalDeviceMapMemoryPlacedPropertiesEXT> ||
    std::same_as<T, vk::PhysicalDeviceMemoryDecompressionPropertiesEXT> ||
    std::same_as<T, vk::PhysicalDeviceMeshShaderPropertiesEXT> ||
    std::same_as<T, vk::PhysicalDeviceMeshShaderPropertiesNV> ||
    std::same_as<T, vk::PhysicalDeviceMultiDrawPropertiesEXT> ||
    std::same_as<T, vk::PhysicalDeviceMultiviewPerViewAttributesPropertiesNVX> ||
    std::same_as<T, vk::PhysicalDeviceMultiviewProperties> ||
    std::same_as<T, vk::PhysicalDeviceNestedCommandBufferPropertiesEXT> ||
    std::same_as<T, vk::PhysicalDeviceOpacityMicromapPropertiesEXT> ||
    std::same_as<T, vk::PhysicalDeviceOpticalFlowPropertiesNV> ||
    std::same_as<T, vk::PhysicalDevicePCIBusInfoPropertiesEXT> ||
    std::same_as<T, vk::PhysicalDevicePartitionedAccelerationStructurePropertiesNV> ||
    std::same_as<T, vk::PhysicalDevicePerformanceCountersByRegionPropertiesARM> ||
    std::same_as<T, vk::PhysicalDevicePerformanceQueryPropertiesKHR> ||
    std::same_as<T, vk::PhysicalDevicePipelineBinaryPropertiesKHR> ||
    std::same_as<T, vk::PhysicalDevicePipelineRobustnessProperties> ||
    std::same_as<T, vk::PhysicalDevicePointClippingProperties> ||
    std::same_as<T, vk::PhysicalDeviceProtectedMemoryProperties> ||
    std::same_as<T, vk::PhysicalDeviceProvokingVertexPropertiesEXT> ||
    std::same_as<T, vk::PhysicalDevicePushConstantBankPropertiesNV> ||
    std::same_as<T, vk::PhysicalDevicePushDescriptorProperties> ||
    std::same_as<T, vk::PhysicalDeviceRayTracingInvocationReorderPropertiesEXT> ||
    std::same_as<T, vk::PhysicalDeviceRayTracingInvocationReorderPropertiesNV> ||
    std::same_as<T, vk::PhysicalDeviceRayTracingPipelinePropertiesKHR> ||
    std::same_as<T, vk::PhysicalDeviceRayTracingPropertiesNV> ||
    std::same_as<T, vk::PhysicalDeviceRenderPassStripedPropertiesARM> ||
    std::same_as<T, vk::PhysicalDeviceRobustness2PropertiesKHR> ||
    std::same_as<T, vk::PhysicalDeviceSampleLocationsPropertiesEXT> ||
    std::same_as<T, vk::PhysicalDeviceSamplerFilterMinmaxProperties> ||
    std::same_as<T, vk::PhysicalDeviceSchedulingControlsPropertiesARM> ||
    std::same_as<T, vk::PhysicalDeviceShaderCoreBuiltinsPropertiesARM> ||
    std::same_as<T, vk::PhysicalDeviceShaderCoreProperties2AMD> ||
    std::same_as<T, vk::PhysicalDeviceShaderCorePropertiesAMD> ||
    std::same_as<T, vk::PhysicalDeviceShaderCorePropertiesARM> ||
    std::same_as<T, vk::PhysicalDeviceShaderIntegerDotProductProperties> ||
    std::same_as<T, vk::PhysicalDeviceShaderLongVectorPropertiesEXT> ||
    std::same_as<T, vk::PhysicalDeviceShaderModuleIdentifierPropertiesEXT> ||
    std::same_as<T, vk::PhysicalDeviceShaderObjectPropertiesEXT> ||
    std::same_as<T, vk::PhysicalDeviceShaderSMBuiltinsPropertiesNV> ||
    std::same_as<T, vk::PhysicalDeviceShaderTileImagePropertiesEXT> ||
    std::same_as<T, vk::PhysicalDeviceShadingRateImagePropertiesNV> ||
    std::same_as<T, vk::PhysicalDeviceSubgroupProperties> ||
    std::same_as<T, vk::PhysicalDeviceSubgroupSizeControlProperties> ||
    std::same_as<T, vk::PhysicalDeviceSubpassShadingPropertiesHUAWEI> ||
    std::same_as<T, vk::PhysicalDeviceTensorPropertiesARM> ||
    std::same_as<T, vk::PhysicalDeviceTexelBufferAlignmentProperties> ||
    std::same_as<T, vk::PhysicalDeviceTileMemoryHeapPropertiesQCOM> ||
    std::same_as<T, vk::PhysicalDeviceTileShadingPropertiesQCOM> ||
    std::same_as<T, vk::PhysicalDeviceTimelineSemaphoreProperties> ||
    std::same_as<T, vk::PhysicalDeviceTransformFeedbackPropertiesEXT> ||
    std::same_as<T, vk::PhysicalDeviceVertexAttributeDivisorProperties> ||
    std::same_as<T, vk::PhysicalDeviceVertexAttributeDivisorPropertiesEXT> ||
    std::same_as<T, vk::PhysicalDeviceVulkan11Properties> ||
    std::same_as<T, vk::PhysicalDeviceVulkan12Properties> ||
    std::same_as<T, vk::PhysicalDeviceVulkan13Properties> ||
    std::same_as<T, vk::PhysicalDeviceVulkan14Properties>
);

/**
 * @brief Aggregate class containing all Vulkan property structures.
 *
 * Provides type-safe access to all ~120 Vulkan property structs without
 * unsafe casting or map lookups. Each property struct is stored as a direct member.
 *
 * Properties can be accessed via:
 * - Template method: get<vk::PhysicalDevicePushDescriptorPropertiesKHR>()
 * - Named getter: get_push_descriptor_properties_khr()
 */
class VulkanProperties {
  public:
    /// Default constructor (zero-initialized properties)
    VulkanProperties() = delete;

    /// Constructor: query properties from physical device
    VulkanProperties(const vk::PhysicalDevice& physical_device,
                     const InstanceHandle& instance);

    /// Copy and move
    VulkanProperties(const VulkanProperties&) = default;
    VulkanProperties& operator=(const VulkanProperties&) = default;
    VulkanProperties(VulkanProperties&&) = default;
    VulkanProperties& operator=(VulkanProperties&&) = default;

    /// Type-safe template access (throws if extension not available)
    template<typename T> requires VulkanPropertyStruct<T>
    const T& get() const;

    // Named getters for each property struct
    const vk::PhysicalDeviceProperties& get_properties() const;
    operator const vk::PhysicalDeviceProperties&() const;
    const vk::PhysicalDeviceProperties2& get_properties2() const;
    operator const vk::PhysicalDeviceProperties2&() const;
    const vk::PhysicalDeviceAccelerationStructurePropertiesKHR& get_acceleration_structure_properties_khr() const;
    operator const vk::PhysicalDeviceAccelerationStructurePropertiesKHR&() const;
    const vk::PhysicalDeviceBlendOperationAdvancedPropertiesEXT& get_blend_operation_advanced_properties_ext() const;
    operator const vk::PhysicalDeviceBlendOperationAdvancedPropertiesEXT&() const;
    const vk::PhysicalDeviceClusterAccelerationStructurePropertiesNV& get_cluster_acceleration_structure_properties_nv() const;
    operator const vk::PhysicalDeviceClusterAccelerationStructurePropertiesNV&() const;
    const vk::PhysicalDeviceClusterCullingShaderPropertiesHUAWEI& get_cluster_culling_shader_properties_huawei() const;
    operator const vk::PhysicalDeviceClusterCullingShaderPropertiesHUAWEI&() const;
    const vk::PhysicalDeviceComputeShaderDerivativesPropertiesKHR& get_compute_shader_derivatives_properties_khr() const;
    operator const vk::PhysicalDeviceComputeShaderDerivativesPropertiesKHR&() const;
    const vk::PhysicalDeviceConservativeRasterizationPropertiesEXT& get_conservative_rasterization_properties_ext() const;
    operator const vk::PhysicalDeviceConservativeRasterizationPropertiesEXT&() const;
    const vk::PhysicalDeviceCooperativeMatrix2PropertiesNV& get_cooperative_matrix2_properties_nv() const;
    operator const vk::PhysicalDeviceCooperativeMatrix2PropertiesNV&() const;
    const vk::PhysicalDeviceCooperativeMatrixPropertiesKHR& get_cooperative_matrix_properties_khr() const;
    operator const vk::PhysicalDeviceCooperativeMatrixPropertiesKHR&() const;
    const vk::PhysicalDeviceCooperativeMatrixPropertiesNV& get_cooperative_matrix_properties_nv() const;
    operator const vk::PhysicalDeviceCooperativeMatrixPropertiesNV&() const;
    const vk::PhysicalDeviceCooperativeVectorPropertiesNV& get_cooperative_vector_properties_nv() const;
    operator const vk::PhysicalDeviceCooperativeVectorPropertiesNV&() const;
    const vk::PhysicalDeviceCopyMemoryIndirectPropertiesKHR& get_copy_memory_indirect_properties_khr() const;
    operator const vk::PhysicalDeviceCopyMemoryIndirectPropertiesKHR&() const;
    const vk::PhysicalDeviceCustomBorderColorPropertiesEXT& get_custom_border_color_properties_ext() const;
    operator const vk::PhysicalDeviceCustomBorderColorPropertiesEXT&() const;
    const vk::PhysicalDeviceDepthStencilResolveProperties& get_depth_stencil_resolve_properties() const;
    operator const vk::PhysicalDeviceDepthStencilResolveProperties&() const;
    const vk::PhysicalDeviceDescriptorBufferDensityMapPropertiesEXT& get_descriptor_buffer_density_map_properties_ext() const;
    operator const vk::PhysicalDeviceDescriptorBufferDensityMapPropertiesEXT&() const;
    const vk::PhysicalDeviceDescriptorBufferPropertiesEXT& get_descriptor_buffer_properties_ext() const;
    operator const vk::PhysicalDeviceDescriptorBufferPropertiesEXT&() const;
    const vk::PhysicalDeviceDescriptorBufferTensorPropertiesARM& get_descriptor_buffer_tensor_properties_arm() const;
    operator const vk::PhysicalDeviceDescriptorBufferTensorPropertiesARM&() const;
    const vk::PhysicalDeviceDescriptorHeapPropertiesEXT& get_descriptor_heap_properties_ext() const;
    operator const vk::PhysicalDeviceDescriptorHeapPropertiesEXT&() const;
    const vk::PhysicalDeviceDescriptorHeapTensorPropertiesARM& get_descriptor_heap_tensor_properties_arm() const;
    operator const vk::PhysicalDeviceDescriptorHeapTensorPropertiesARM&() const;
    const vk::PhysicalDeviceDescriptorIndexingProperties& get_descriptor_indexing_properties() const;
    operator const vk::PhysicalDeviceDescriptorIndexingProperties&() const;
    const vk::PhysicalDeviceDeviceGeneratedCommandsPropertiesEXT& get_device_generated_commands_properties_ext() const;
    operator const vk::PhysicalDeviceDeviceGeneratedCommandsPropertiesEXT&() const;
    const vk::PhysicalDeviceDeviceGeneratedCommandsPropertiesNV& get_device_generated_commands_properties_nv() const;
    operator const vk::PhysicalDeviceDeviceGeneratedCommandsPropertiesNV&() const;
    const vk::PhysicalDeviceDiscardRectanglePropertiesEXT& get_discard_rectangle_properties_ext() const;
    operator const vk::PhysicalDeviceDiscardRectanglePropertiesEXT&() const;
    const vk::PhysicalDeviceDriverProperties& get_driver_properties() const;
    operator const vk::PhysicalDeviceDriverProperties&() const;
    const vk::PhysicalDeviceDrmPropertiesEXT& get_drm_properties_ext() const;
    operator const vk::PhysicalDeviceDrmPropertiesEXT&() const;
    const vk::PhysicalDeviceExtendedDynamicState3PropertiesEXT& get_extended_dynamic_state3_properties_ext() const;
    operator const vk::PhysicalDeviceExtendedDynamicState3PropertiesEXT&() const;
    const vk::PhysicalDeviceExtendedSparseAddressSpacePropertiesNV& get_extended_sparse_address_space_properties_nv() const;
    operator const vk::PhysicalDeviceExtendedSparseAddressSpacePropertiesNV&() const;
    const vk::PhysicalDeviceExternalComputeQueuePropertiesNV& get_external_compute_queue_properties_nv() const;
    operator const vk::PhysicalDeviceExternalComputeQueuePropertiesNV&() const;
    const vk::PhysicalDeviceExternalMemoryHostPropertiesEXT& get_external_memory_host_properties_ext() const;
    operator const vk::PhysicalDeviceExternalMemoryHostPropertiesEXT&() const;
    const vk::PhysicalDeviceFloatControlsProperties& get_float_controls_properties() const;
    operator const vk::PhysicalDeviceFloatControlsProperties&() const;
    const vk::PhysicalDeviceFragmentDensityMap2PropertiesEXT& get_fragment_density_map2_properties_ext() const;
    operator const vk::PhysicalDeviceFragmentDensityMap2PropertiesEXT&() const;
    const vk::PhysicalDeviceFragmentDensityMapLayeredPropertiesVALVE& get_fragment_density_map_layered_properties_valve() const;
    operator const vk::PhysicalDeviceFragmentDensityMapLayeredPropertiesVALVE&() const;
    const vk::PhysicalDeviceFragmentDensityMapOffsetPropertiesEXT& get_fragment_density_map_offset_properties_ext() const;
    operator const vk::PhysicalDeviceFragmentDensityMapOffsetPropertiesEXT&() const;
    const vk::PhysicalDeviceFragmentDensityMapPropertiesEXT& get_fragment_density_map_properties_ext() const;
    operator const vk::PhysicalDeviceFragmentDensityMapPropertiesEXT&() const;
    const vk::PhysicalDeviceFragmentShaderBarycentricPropertiesKHR& get_fragment_shader_barycentric_properties_khr() const;
    operator const vk::PhysicalDeviceFragmentShaderBarycentricPropertiesKHR&() const;
    const vk::PhysicalDeviceFragmentShadingRateEnumsPropertiesNV& get_fragment_shading_rate_enums_properties_nv() const;
    operator const vk::PhysicalDeviceFragmentShadingRateEnumsPropertiesNV&() const;
    const vk::PhysicalDeviceFragmentShadingRatePropertiesKHR& get_fragment_shading_rate_properties_khr() const;
    operator const vk::PhysicalDeviceFragmentShadingRatePropertiesKHR&() const;
    const vk::PhysicalDeviceGraphicsPipelineLibraryPropertiesEXT& get_graphics_pipeline_library_properties_ext() const;
    operator const vk::PhysicalDeviceGraphicsPipelineLibraryPropertiesEXT&() const;
    const vk::PhysicalDeviceHostImageCopyProperties& get_host_image_copy_properties() const;
    operator const vk::PhysicalDeviceHostImageCopyProperties&() const;
    const vk::PhysicalDeviceIDProperties& get_id_properties() const;
    operator const vk::PhysicalDeviceIDProperties&() const;
    const vk::PhysicalDeviceImageAlignmentControlPropertiesMESA& get_image_alignment_control_properties_mesa() const;
    operator const vk::PhysicalDeviceImageAlignmentControlPropertiesMESA&() const;
    const vk::PhysicalDeviceImageProcessing2PropertiesQCOM& get_image_processing2_properties_qcom() const;
    operator const vk::PhysicalDeviceImageProcessing2PropertiesQCOM&() const;
    const vk::PhysicalDeviceImageProcessingPropertiesQCOM& get_image_processing_properties_qcom() const;
    operator const vk::PhysicalDeviceImageProcessingPropertiesQCOM&() const;
    const vk::PhysicalDeviceInlineUniformBlockProperties& get_inline_uniform_block_properties() const;
    operator const vk::PhysicalDeviceInlineUniformBlockProperties&() const;
    const vk::PhysicalDeviceLayeredApiPropertiesListKHR& get_layered_api_properties_list_khr() const;
    operator const vk::PhysicalDeviceLayeredApiPropertiesListKHR&() const;
    const vk::PhysicalDeviceLayeredDriverPropertiesMSFT& get_layered_driver_properties_msft() const;
    operator const vk::PhysicalDeviceLayeredDriverPropertiesMSFT&() const;
    const vk::PhysicalDeviceLegacyVertexAttributesPropertiesEXT& get_legacy_vertex_attributes_properties_ext() const;
    operator const vk::PhysicalDeviceLegacyVertexAttributesPropertiesEXT&() const;
    const vk::PhysicalDeviceLineRasterizationProperties& get_line_rasterization_properties() const;
    operator const vk::PhysicalDeviceLineRasterizationProperties&() const;
    const vk::PhysicalDeviceMaintenance10PropertiesKHR& get_maintenance10_properties_khr() const;
    operator const vk::PhysicalDeviceMaintenance10PropertiesKHR&() const;
    const vk::PhysicalDeviceMaintenance3Properties& get_maintenance3_properties() const;
    operator const vk::PhysicalDeviceMaintenance3Properties&() const;
    const vk::PhysicalDeviceMaintenance4Properties& get_maintenance4_properties() const;
    operator const vk::PhysicalDeviceMaintenance4Properties&() const;
    const vk::PhysicalDeviceMaintenance5Properties& get_maintenance5_properties() const;
    operator const vk::PhysicalDeviceMaintenance5Properties&() const;
    const vk::PhysicalDeviceMaintenance6Properties& get_maintenance6_properties() const;
    operator const vk::PhysicalDeviceMaintenance6Properties&() const;
    const vk::PhysicalDeviceMaintenance7PropertiesKHR& get_maintenance7_properties_khr() const;
    operator const vk::PhysicalDeviceMaintenance7PropertiesKHR&() const;
    const vk::PhysicalDeviceMaintenance9PropertiesKHR& get_maintenance9_properties_khr() const;
    operator const vk::PhysicalDeviceMaintenance9PropertiesKHR&() const;
    const vk::PhysicalDeviceMapMemoryPlacedPropertiesEXT& get_map_memory_placed_properties_ext() const;
    operator const vk::PhysicalDeviceMapMemoryPlacedPropertiesEXT&() const;
    const vk::PhysicalDeviceMemoryDecompressionPropertiesEXT& get_memory_decompression_properties_ext() const;
    operator const vk::PhysicalDeviceMemoryDecompressionPropertiesEXT&() const;
    const vk::PhysicalDeviceMeshShaderPropertiesEXT& get_mesh_shader_properties_ext() const;
    operator const vk::PhysicalDeviceMeshShaderPropertiesEXT&() const;
    const vk::PhysicalDeviceMeshShaderPropertiesNV& get_mesh_shader_properties_nv() const;
    operator const vk::PhysicalDeviceMeshShaderPropertiesNV&() const;
    const vk::PhysicalDeviceMultiDrawPropertiesEXT& get_multi_draw_properties_ext() const;
    operator const vk::PhysicalDeviceMultiDrawPropertiesEXT&() const;
    const vk::PhysicalDeviceMultiviewPerViewAttributesPropertiesNVX& get_multiview_per_view_attributes_properties_nvx() const;
    operator const vk::PhysicalDeviceMultiviewPerViewAttributesPropertiesNVX&() const;
    const vk::PhysicalDeviceMultiviewProperties& get_multiview_properties() const;
    operator const vk::PhysicalDeviceMultiviewProperties&() const;
    const vk::PhysicalDeviceNestedCommandBufferPropertiesEXT& get_nested_command_buffer_properties_ext() const;
    operator const vk::PhysicalDeviceNestedCommandBufferPropertiesEXT&() const;
    const vk::PhysicalDeviceOpacityMicromapPropertiesEXT& get_opacity_micromap_properties_ext() const;
    operator const vk::PhysicalDeviceOpacityMicromapPropertiesEXT&() const;
    const vk::PhysicalDeviceOpticalFlowPropertiesNV& get_optical_flow_properties_nv() const;
    operator const vk::PhysicalDeviceOpticalFlowPropertiesNV&() const;
    const vk::PhysicalDevicePCIBusInfoPropertiesEXT& get_pci_bus_info_properties_ext() const;
    operator const vk::PhysicalDevicePCIBusInfoPropertiesEXT&() const;
    const vk::PhysicalDevicePartitionedAccelerationStructurePropertiesNV& get_partitioned_acceleration_structure_properties_nv() const;
    operator const vk::PhysicalDevicePartitionedAccelerationStructurePropertiesNV&() const;
    const vk::PhysicalDevicePerformanceCountersByRegionPropertiesARM& get_performance_counters_by_region_properties_arm() const;
    operator const vk::PhysicalDevicePerformanceCountersByRegionPropertiesARM&() const;
    const vk::PhysicalDevicePerformanceQueryPropertiesKHR& get_performance_query_properties_khr() const;
    operator const vk::PhysicalDevicePerformanceQueryPropertiesKHR&() const;
    const vk::PhysicalDevicePipelineBinaryPropertiesKHR& get_pipeline_binary_properties_khr() const;
    operator const vk::PhysicalDevicePipelineBinaryPropertiesKHR&() const;
    const vk::PhysicalDevicePipelineRobustnessProperties& get_pipeline_robustness_properties() const;
    operator const vk::PhysicalDevicePipelineRobustnessProperties&() const;
    const vk::PhysicalDevicePointClippingProperties& get_point_clipping_properties() const;
    operator const vk::PhysicalDevicePointClippingProperties&() const;
    const vk::PhysicalDeviceProtectedMemoryProperties& get_protected_memory_properties() const;
    operator const vk::PhysicalDeviceProtectedMemoryProperties&() const;
    const vk::PhysicalDeviceProvokingVertexPropertiesEXT& get_provoking_vertex_properties_ext() const;
    operator const vk::PhysicalDeviceProvokingVertexPropertiesEXT&() const;
    const vk::PhysicalDevicePushConstantBankPropertiesNV& get_push_constant_bank_properties_nv() const;
    operator const vk::PhysicalDevicePushConstantBankPropertiesNV&() const;
    const vk::PhysicalDevicePushDescriptorProperties& get_push_descriptor_properties() const;
    operator const vk::PhysicalDevicePushDescriptorProperties&() const;
    const vk::PhysicalDeviceRayTracingInvocationReorderPropertiesEXT& get_ray_tracing_invocation_reorder_properties_ext() const;
    operator const vk::PhysicalDeviceRayTracingInvocationReorderPropertiesEXT&() const;
    const vk::PhysicalDeviceRayTracingInvocationReorderPropertiesNV& get_ray_tracing_invocation_reorder_properties_nv() const;
    operator const vk::PhysicalDeviceRayTracingInvocationReorderPropertiesNV&() const;
    const vk::PhysicalDeviceRayTracingPipelinePropertiesKHR& get_ray_tracing_pipeline_properties_khr() const;
    operator const vk::PhysicalDeviceRayTracingPipelinePropertiesKHR&() const;
    const vk::PhysicalDeviceRayTracingPropertiesNV& get_ray_tracing_properties_nv() const;
    operator const vk::PhysicalDeviceRayTracingPropertiesNV&() const;
    const vk::PhysicalDeviceRenderPassStripedPropertiesARM& get_render_pass_striped_properties_arm() const;
    operator const vk::PhysicalDeviceRenderPassStripedPropertiesARM&() const;
    const vk::PhysicalDeviceRobustness2PropertiesKHR& get_robustness2_properties_khr() const;
    operator const vk::PhysicalDeviceRobustness2PropertiesKHR&() const;
    const vk::PhysicalDeviceSampleLocationsPropertiesEXT& get_sample_locations_properties_ext() const;
    operator const vk::PhysicalDeviceSampleLocationsPropertiesEXT&() const;
    const vk::PhysicalDeviceSamplerFilterMinmaxProperties& get_sampler_filter_minmax_properties() const;
    operator const vk::PhysicalDeviceSamplerFilterMinmaxProperties&() const;
    const vk::PhysicalDeviceSchedulingControlsPropertiesARM& get_scheduling_controls_properties_arm() const;
    operator const vk::PhysicalDeviceSchedulingControlsPropertiesARM&() const;
    const vk::PhysicalDeviceShaderCoreBuiltinsPropertiesARM& get_shader_core_builtins_properties_arm() const;
    operator const vk::PhysicalDeviceShaderCoreBuiltinsPropertiesARM&() const;
    const vk::PhysicalDeviceShaderCoreProperties2AMD& get_shader_core_properties2_amd() const;
    operator const vk::PhysicalDeviceShaderCoreProperties2AMD&() const;
    const vk::PhysicalDeviceShaderCorePropertiesAMD& get_shader_core_properties_amd() const;
    operator const vk::PhysicalDeviceShaderCorePropertiesAMD&() const;
    const vk::PhysicalDeviceShaderCorePropertiesARM& get_shader_core_properties_arm() const;
    operator const vk::PhysicalDeviceShaderCorePropertiesARM&() const;
    const vk::PhysicalDeviceShaderIntegerDotProductProperties& get_shader_integer_dot_product_properties() const;
    operator const vk::PhysicalDeviceShaderIntegerDotProductProperties&() const;
    const vk::PhysicalDeviceShaderLongVectorPropertiesEXT& get_shader_long_vector_properties_ext() const;
    operator const vk::PhysicalDeviceShaderLongVectorPropertiesEXT&() const;
    const vk::PhysicalDeviceShaderModuleIdentifierPropertiesEXT& get_shader_module_identifier_properties_ext() const;
    operator const vk::PhysicalDeviceShaderModuleIdentifierPropertiesEXT&() const;
    const vk::PhysicalDeviceShaderObjectPropertiesEXT& get_shader_object_properties_ext() const;
    operator const vk::PhysicalDeviceShaderObjectPropertiesEXT&() const;
    const vk::PhysicalDeviceShaderSMBuiltinsPropertiesNV& get_shader_sm_builtins_properties_nv() const;
    operator const vk::PhysicalDeviceShaderSMBuiltinsPropertiesNV&() const;
    const vk::PhysicalDeviceShaderTileImagePropertiesEXT& get_shader_tile_image_properties_ext() const;
    operator const vk::PhysicalDeviceShaderTileImagePropertiesEXT&() const;
    const vk::PhysicalDeviceShadingRateImagePropertiesNV& get_shading_rate_image_properties_nv() const;
    operator const vk::PhysicalDeviceShadingRateImagePropertiesNV&() const;
    const vk::PhysicalDeviceSubgroupProperties& get_subgroup_properties() const;
    operator const vk::PhysicalDeviceSubgroupProperties&() const;
    const vk::PhysicalDeviceSubgroupSizeControlProperties& get_subgroup_size_control_properties() const;
    operator const vk::PhysicalDeviceSubgroupSizeControlProperties&() const;
    const vk::PhysicalDeviceSubpassShadingPropertiesHUAWEI& get_subpass_shading_properties_huawei() const;
    operator const vk::PhysicalDeviceSubpassShadingPropertiesHUAWEI&() const;
    const vk::PhysicalDeviceTensorPropertiesARM& get_tensor_properties_arm() const;
    operator const vk::PhysicalDeviceTensorPropertiesARM&() const;
    const vk::PhysicalDeviceTexelBufferAlignmentProperties& get_texel_buffer_alignment_properties() const;
    operator const vk::PhysicalDeviceTexelBufferAlignmentProperties&() const;
    const vk::PhysicalDeviceTileMemoryHeapPropertiesQCOM& get_tile_memory_heap_properties_qcom() const;
    operator const vk::PhysicalDeviceTileMemoryHeapPropertiesQCOM&() const;
    const vk::PhysicalDeviceTileShadingPropertiesQCOM& get_tile_shading_properties_qcom() const;
    operator const vk::PhysicalDeviceTileShadingPropertiesQCOM&() const;
    const vk::PhysicalDeviceTimelineSemaphoreProperties& get_timeline_semaphore_properties() const;
    operator const vk::PhysicalDeviceTimelineSemaphoreProperties&() const;
    const vk::PhysicalDeviceTransformFeedbackPropertiesEXT& get_transform_feedback_properties_ext() const;
    operator const vk::PhysicalDeviceTransformFeedbackPropertiesEXT&() const;
    const vk::PhysicalDeviceVertexAttributeDivisorProperties& get_vertex_attribute_divisor_properties() const;
    operator const vk::PhysicalDeviceVertexAttributeDivisorProperties&() const;
    const vk::PhysicalDeviceVertexAttributeDivisorPropertiesEXT& get_vertex_attribute_divisor_properties_ext() const;
    operator const vk::PhysicalDeviceVertexAttributeDivisorPropertiesEXT&() const;
    const vk::PhysicalDeviceVulkan11Properties& get_vulkan11_properties() const;
    operator const vk::PhysicalDeviceVulkan11Properties&() const;
    const vk::PhysicalDeviceVulkan12Properties& get_vulkan12_properties() const;
    operator const vk::PhysicalDeviceVulkan12Properties&() const;
    const vk::PhysicalDeviceVulkan13Properties& get_vulkan13_properties() const;
    operator const vk::PhysicalDeviceVulkan13Properties&() const;
    const vk::PhysicalDeviceVulkan14Properties& get_vulkan14_properties() const;
    operator const vk::PhysicalDeviceVulkan14Properties&() const;

    /// Check if property struct is available (only valid after physical_device constructor)
    bool is_available(vk::StructureType stype) const;

    template<typename T> requires VulkanPropertyStruct<T>
    bool is_available() const {
        return is_available(T::structureType);
    }

    /// Returns the effective API version of the physical device, that is the minimum of the
    /// targeted version and the supported version.
    uint32_t get_vk_api_version() const {
        return effective_vk_api_version;
    }

    /// Returns the physical device's supported API version. The effective
    /// version for device use (get_vk_api_version) might be lower.
    uint32_t get_physical_device_vk_api_version() const {
        return m_properties2.properties.apiVersion;
    }

  private:
    /// Internal: get pointer to struct by StructureType
    const void* get_struct_ptr(vk::StructureType stype) const;

    // Property struct members (~120 structs)
    vk::PhysicalDeviceAccelerationStructurePropertiesKHR m_acceleration_structure_properties_khr{};
    vk::PhysicalDeviceBlendOperationAdvancedPropertiesEXT m_blend_operation_advanced_properties_ext{};
    vk::PhysicalDeviceClusterAccelerationStructurePropertiesNV m_cluster_acceleration_structure_properties_nv{};
    vk::PhysicalDeviceClusterCullingShaderPropertiesHUAWEI m_cluster_culling_shader_properties_huawei{};
    vk::PhysicalDeviceComputeShaderDerivativesPropertiesKHR m_compute_shader_derivatives_properties_khr{};
    vk::PhysicalDeviceConservativeRasterizationPropertiesEXT m_conservative_rasterization_properties_ext{};
    vk::PhysicalDeviceCooperativeMatrix2PropertiesNV m_cooperative_matrix2_properties_nv{};
    vk::PhysicalDeviceCooperativeMatrixPropertiesKHR m_cooperative_matrix_properties_khr{};
    vk::PhysicalDeviceCooperativeMatrixPropertiesNV m_cooperative_matrix_properties_nv{};
    vk::PhysicalDeviceCooperativeVectorPropertiesNV m_cooperative_vector_properties_nv{};
    vk::PhysicalDeviceCopyMemoryIndirectPropertiesKHR m_copy_memory_indirect_properties_khr{};
    vk::PhysicalDeviceCustomBorderColorPropertiesEXT m_custom_border_color_properties_ext{};
    vk::PhysicalDeviceDepthStencilResolveProperties m_depth_stencil_resolve_properties{};
    vk::PhysicalDeviceDescriptorBufferDensityMapPropertiesEXT m_descriptor_buffer_density_map_properties_ext{};
    vk::PhysicalDeviceDescriptorBufferPropertiesEXT m_descriptor_buffer_properties_ext{};
    vk::PhysicalDeviceDescriptorBufferTensorPropertiesARM m_descriptor_buffer_tensor_properties_arm{};
    vk::PhysicalDeviceDescriptorHeapPropertiesEXT m_descriptor_heap_properties_ext{};
    vk::PhysicalDeviceDescriptorHeapTensorPropertiesARM m_descriptor_heap_tensor_properties_arm{};
    vk::PhysicalDeviceDescriptorIndexingProperties m_descriptor_indexing_properties{};
    vk::PhysicalDeviceDeviceGeneratedCommandsPropertiesEXT m_device_generated_commands_properties_ext{};
    vk::PhysicalDeviceDeviceGeneratedCommandsPropertiesNV m_device_generated_commands_properties_nv{};
    vk::PhysicalDeviceDiscardRectanglePropertiesEXT m_discard_rectangle_properties_ext{};
    vk::PhysicalDeviceDriverProperties m_driver_properties{};
    vk::PhysicalDeviceDrmPropertiesEXT m_drm_properties_ext{};
    vk::PhysicalDeviceExtendedDynamicState3PropertiesEXT m_extended_dynamic_state3_properties_ext{};
    vk::PhysicalDeviceExtendedSparseAddressSpacePropertiesNV m_extended_sparse_address_space_properties_nv{};
    vk::PhysicalDeviceExternalComputeQueuePropertiesNV m_external_compute_queue_properties_nv{};
    vk::PhysicalDeviceExternalMemoryHostPropertiesEXT m_external_memory_host_properties_ext{};
    vk::PhysicalDeviceFloatControlsProperties m_float_controls_properties{};
    vk::PhysicalDeviceFragmentDensityMap2PropertiesEXT m_fragment_density_map2_properties_ext{};
    vk::PhysicalDeviceFragmentDensityMapLayeredPropertiesVALVE m_fragment_density_map_layered_properties_valve{};
    vk::PhysicalDeviceFragmentDensityMapOffsetPropertiesEXT m_fragment_density_map_offset_properties_ext{};
    vk::PhysicalDeviceFragmentDensityMapPropertiesEXT m_fragment_density_map_properties_ext{};
    vk::PhysicalDeviceFragmentShaderBarycentricPropertiesKHR m_fragment_shader_barycentric_properties_khr{};
    vk::PhysicalDeviceFragmentShadingRateEnumsPropertiesNV m_fragment_shading_rate_enums_properties_nv{};
    vk::PhysicalDeviceFragmentShadingRatePropertiesKHR m_fragment_shading_rate_properties_khr{};
    vk::PhysicalDeviceGraphicsPipelineLibraryPropertiesEXT m_graphics_pipeline_library_properties_ext{};
    vk::PhysicalDeviceHostImageCopyProperties m_host_image_copy_properties{};
    vk::PhysicalDeviceIDProperties m_id_properties{};
    vk::PhysicalDeviceImageAlignmentControlPropertiesMESA m_image_alignment_control_properties_mesa{};
    vk::PhysicalDeviceImageProcessing2PropertiesQCOM m_image_processing2_properties_qcom{};
    vk::PhysicalDeviceImageProcessingPropertiesQCOM m_image_processing_properties_qcom{};
    vk::PhysicalDeviceInlineUniformBlockProperties m_inline_uniform_block_properties{};
    vk::PhysicalDeviceLayeredApiPropertiesListKHR m_layered_api_properties_list_khr{};
    vk::PhysicalDeviceLayeredDriverPropertiesMSFT m_layered_driver_properties_msft{};
    vk::PhysicalDeviceLegacyVertexAttributesPropertiesEXT m_legacy_vertex_attributes_properties_ext{};
    vk::PhysicalDeviceLineRasterizationProperties m_line_rasterization_properties{};
    vk::PhysicalDeviceMaintenance10PropertiesKHR m_maintenance10_properties_khr{};
    vk::PhysicalDeviceMaintenance3Properties m_maintenance3_properties{};
    vk::PhysicalDeviceMaintenance4Properties m_maintenance4_properties{};
    vk::PhysicalDeviceMaintenance5Properties m_maintenance5_properties{};
    vk::PhysicalDeviceMaintenance6Properties m_maintenance6_properties{};
    vk::PhysicalDeviceMaintenance7PropertiesKHR m_maintenance7_properties_khr{};
    vk::PhysicalDeviceMaintenance9PropertiesKHR m_maintenance9_properties_khr{};
    vk::PhysicalDeviceMapMemoryPlacedPropertiesEXT m_map_memory_placed_properties_ext{};
    vk::PhysicalDeviceMemoryDecompressionPropertiesEXT m_memory_decompression_properties_ext{};
    vk::PhysicalDeviceMeshShaderPropertiesEXT m_mesh_shader_properties_ext{};
    vk::PhysicalDeviceMeshShaderPropertiesNV m_mesh_shader_properties_nv{};
    vk::PhysicalDeviceMultiDrawPropertiesEXT m_multi_draw_properties_ext{};
    vk::PhysicalDeviceMultiviewPerViewAttributesPropertiesNVX m_multiview_per_view_attributes_properties_nvx{};
    vk::PhysicalDeviceMultiviewProperties m_multiview_properties{};
    vk::PhysicalDeviceNestedCommandBufferPropertiesEXT m_nested_command_buffer_properties_ext{};
    vk::PhysicalDeviceOpacityMicromapPropertiesEXT m_opacity_micromap_properties_ext{};
    vk::PhysicalDeviceOpticalFlowPropertiesNV m_optical_flow_properties_nv{};
    vk::PhysicalDevicePCIBusInfoPropertiesEXT m_pci_bus_info_properties_ext{};
    vk::PhysicalDevicePartitionedAccelerationStructurePropertiesNV m_partitioned_acceleration_structure_properties_nv{};
    vk::PhysicalDevicePerformanceCountersByRegionPropertiesARM m_performance_counters_by_region_properties_arm{};
    vk::PhysicalDevicePerformanceQueryPropertiesKHR m_performance_query_properties_khr{};
    vk::PhysicalDevicePipelineBinaryPropertiesKHR m_pipeline_binary_properties_khr{};
    vk::PhysicalDevicePipelineRobustnessProperties m_pipeline_robustness_properties{};
    vk::PhysicalDevicePointClippingProperties m_point_clipping_properties{};
    vk::PhysicalDeviceProtectedMemoryProperties m_protected_memory_properties{};
    vk::PhysicalDeviceProvokingVertexPropertiesEXT m_provoking_vertex_properties_ext{};
    vk::PhysicalDevicePushConstantBankPropertiesNV m_push_constant_bank_properties_nv{};
    vk::PhysicalDevicePushDescriptorProperties m_push_descriptor_properties{};
    vk::PhysicalDeviceRayTracingInvocationReorderPropertiesEXT m_ray_tracing_invocation_reorder_properties_ext{};
    vk::PhysicalDeviceRayTracingInvocationReorderPropertiesNV m_ray_tracing_invocation_reorder_properties_nv{};
    vk::PhysicalDeviceRayTracingPipelinePropertiesKHR m_ray_tracing_pipeline_properties_khr{};
    vk::PhysicalDeviceRayTracingPropertiesNV m_ray_tracing_properties_nv{};
    vk::PhysicalDeviceRenderPassStripedPropertiesARM m_render_pass_striped_properties_arm{};
    vk::PhysicalDeviceRobustness2PropertiesKHR m_robustness2_properties_khr{};
    vk::PhysicalDeviceSampleLocationsPropertiesEXT m_sample_locations_properties_ext{};
    vk::PhysicalDeviceSamplerFilterMinmaxProperties m_sampler_filter_minmax_properties{};
    vk::PhysicalDeviceSchedulingControlsPropertiesARM m_scheduling_controls_properties_arm{};
    vk::PhysicalDeviceShaderCoreBuiltinsPropertiesARM m_shader_core_builtins_properties_arm{};
    vk::PhysicalDeviceShaderCoreProperties2AMD m_shader_core_properties2_amd{};
    vk::PhysicalDeviceShaderCorePropertiesAMD m_shader_core_properties_amd{};
    vk::PhysicalDeviceShaderCorePropertiesARM m_shader_core_properties_arm{};
    vk::PhysicalDeviceShaderIntegerDotProductProperties m_shader_integer_dot_product_properties{};
    vk::PhysicalDeviceShaderLongVectorPropertiesEXT m_shader_long_vector_properties_ext{};
    vk::PhysicalDeviceShaderModuleIdentifierPropertiesEXT m_shader_module_identifier_properties_ext{};
    vk::PhysicalDeviceShaderObjectPropertiesEXT m_shader_object_properties_ext{};
    vk::PhysicalDeviceShaderSMBuiltinsPropertiesNV m_shader_sm_builtins_properties_nv{};
    vk::PhysicalDeviceShaderTileImagePropertiesEXT m_shader_tile_image_properties_ext{};
    vk::PhysicalDeviceShadingRateImagePropertiesNV m_shading_rate_image_properties_nv{};
    vk::PhysicalDeviceSubgroupProperties m_subgroup_properties{};
    vk::PhysicalDeviceSubgroupSizeControlProperties m_subgroup_size_control_properties{};
    vk::PhysicalDeviceSubpassShadingPropertiesHUAWEI m_subpass_shading_properties_huawei{};
    vk::PhysicalDeviceTensorPropertiesARM m_tensor_properties_arm{};
    vk::PhysicalDeviceTexelBufferAlignmentProperties m_texel_buffer_alignment_properties{};
    vk::PhysicalDeviceTileMemoryHeapPropertiesQCOM m_tile_memory_heap_properties_qcom{};
    vk::PhysicalDeviceTileShadingPropertiesQCOM m_tile_shading_properties_qcom{};
    vk::PhysicalDeviceTimelineSemaphoreProperties m_timeline_semaphore_properties{};
    vk::PhysicalDeviceTransformFeedbackPropertiesEXT m_transform_feedback_properties_ext{};
    vk::PhysicalDeviceVertexAttributeDivisorProperties m_vertex_attribute_divisor_properties{};
    vk::PhysicalDeviceVertexAttributeDivisorPropertiesEXT m_vertex_attribute_divisor_properties_ext{};
    vk::PhysicalDeviceVulkan11Properties m_vulkan11_properties{};
    vk::PhysicalDeviceVulkan12Properties m_vulkan12_properties{};
    vk::PhysicalDeviceVulkan13Properties m_vulkan13_properties{};
    vk::PhysicalDeviceVulkan14Properties m_vulkan14_properties{};

    vk::PhysicalDeviceProperties2 m_properties2{};

    /// Track which structs are available via extensions or API version
    std::unordered_set<vk::StructureType> available_structs;

    /// Effective API version (minimum of targeted and physical device version)
    uint32_t effective_vk_api_version = 0;
};

} // namespace merian
